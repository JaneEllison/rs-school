(()=>{"use strict";const a=[{word:"boy",translation:"мальчик",image:"assets/img_family/boy.png",audioSrc:"assets/audio/boy.mp3",category:"Family"},{word:"girl",translation:"девочка",image:"assets/img_family/girl.png",audioSrc:"assets/audio/girl.mp3",category:"Family"},{word:"mother",translation:"мама",image:"assets/img_family/mother.png",audioSrc:"assets/audio/mother.mp3",category:"Family"},{word:"father",translation:"папа",image:"assets/img_family/father.png",audioSrc:"assets/audio/father.mp3",category:"Family"},{word:"sister",translation:"сестра",image:"assets/img_family/sister.png",audioSrc:"assets/audio/sister.mp3",category:"Family"},{word:"brother",translation:"брат",image:"assets/img_family/brother.png",audioSrc:"assets/audio/brother.mp3",category:"Family"},{word:"grandpa",translation:"дедушка",image:"assets/img_family/grandad.png",audioSrc:"assets/audio/grandpa.mp3",category:"Family"},{word:"grandmother",translation:"бабушка",image:"assets/img_family/granny.jpg",audioSrc:"assets/audio/grandmother.mp3",category:"Family"},{word:"cat",translation:"кот",image:"assets/img_animals/cat.png",audioSrc:"assets/audio/cat.mp3",category:"Animals"},{word:"dog",translation:"собака",image:"assets/img_animals/dog.png",audioSrc:"assets/audio/dog.mp3",category:"Animals"},{word:"elephant",translation:"слон",image:"assets/img_animals/elephant.png",audioSrc:"assets/audio/elephant.mp3",category:"Animals"},{word:"fox",translation:"лиса",image:"assets/img_animals/fox.png",audioSrc:"assets/audio/fox.mp3",category:"Animals"},{word:"mouse",translation:"мышка",image:"assets/img_animals/mouse.png",audioSrc:"assets/audio/mouse.mp3",category:"Animals"},{word:"octopus",translation:"осьминог",image:"assets/img_animals/octopus.png",audioSrc:"assets/audio/octopus.mp3",category:"Animals"},{word:"parrot",translation:"попугай",image:"assets/img_animals/parrot.png",audioSrc:"assets/audio/parrot.mp3",category:"Animals"},{word:"rabbit",translation:"заяц",image:"assets/img_animals/rabbit.png",audioSrc:"assets/audio/rabbit.mp3",category:"Animals"},{word:"apple",translation:"яблоко",image:"assets/img_fruits/apple.png",audioSrc:"assets/audio/apple.mp3",category:"Fruits"},{word:"banana",translation:"банан",image:"assets/img_fruits/banana.png",audioSrc:"assets/audio/banana.mp3",category:"Fruits"},{word:"grape",translation:"виноград",image:"assets/img_fruits/grape.png",audioSrc:"assets/audio/grape.mp3",category:"Fruits"},{word:"kivi",translation:"киви",image:"assets/img_fruits/kivi.png",audioSrc:"assets/audio/kivi.mp3",category:"Fruits"},{word:"lemon",translation:"лимон",image:"assets/img_fruits/lemon.png",audioSrc:"assets/audio/lemon.mp3",category:"Fruits"},{word:"orange",translation:"апельсин",image:"assets/img_fruits/orange.png",audioSrc:"assets/audio/orange.mp3",category:"Fruits"},{word:"pear",translation:"груша",image:"assets/img_fruits/pear.png",audioSrc:"assets/audio/pear.mp3",category:"Fruits"},{word:"pineapple",translation:"ананас",image:"assets/img_fruits/pineapple.png",audioSrc:"assets/audio/pineapple.mp3",category:"Fruits"},{word:"cabbage",translation:"капуста",image:"assets/img_vegetables/cabbage.png",audioSrc:"assets/audio/cabbage.mp3",category:"Vegetables"},{word:"carrot",translation:"морковка",image:"assets/img_vegetables/carrot.png",audioSrc:"assets/audio/carrot.mp3",category:"Vegetables"},{word:"cucumber",translation:"огурец",image:"assets/img_vegetables/cucumber.png",audioSrc:"assets/audio/cucumber.mp3",category:"Vegetables"},{word:"garlic",translation:"чеснок",image:"assets/img_vegetables/garlic.png",audioSrc:"assets/audio/garlic.mp3",category:"Vegetables"},{word:"onion",translation:"лук",image:"assets/img_vegetables/onion.png",audioSrc:"assets/audio/onion.mp3",category:"Vegetables"},{word:"pea",translation:"горошек",image:"assets/img_vegetables/pea.png",audioSrc:"assets/audio/pea.mp3",category:"Vegetables"},{word:"potato",translation:"картошка",image:"assets/img_vegetables/potato.png",audioSrc:"assets/audio/potato.mp3",category:"Vegetables"},{word:"tomato",translation:"помидор",image:"assets/img_vegetables/tomato.png",audioSrc:"assets/audio/tomato.mp3",category:"Vegetables"},{word:"blackberry",translation:"ежевика",image:"assets/img_berries/blackberry.png",audioSrc:"assets/audio/blackberry.mp3",category:"Berries"},{word:"blueberry",translation:"голубика",image:"assets/img_berries/blueberry.png",audioSrc:"assets/audio/blueberry.mp3",category:"Berries"},{word:"cherry",translation:"вишня",image:"assets/img_berries/cherry.png",audioSrc:"assets/audio/cherry.mp3",category:"Berries"},{word:"chokeberry",translation:"Черноплодная рябина",image:"assets/img_berries/chokeberry.png",audioSrc:"assets/audio/chokeberry.mp3",category:"Berries"},{word:"cranberry",translation:"клюква",image:"assets/img_berries/cranberry.png",audioSrc:"assets/audio/cranberry.mp3",category:"Berries"},{word:"gooseberry",translation:"крыжовник",image:"assets/img_berries/gooseberry.png",audioSrc:"assets/audio/gooseberry.mp3",category:"Berries"},{word:"raspberry",translation:"малина",image:"assets/img_berries/raspberry.png",audioSrc:"assets/audio/raspberry.mp3",category:"Berries"},{word:"strawberry",translation:"клубника",image:"assets/img_berries/strawberry.png",audioSrc:"assets/audio/strawberry.mp3",category:"Berries"},{word:"dress",translation:"платье",image:"assets/img_clothes/dress.png",audioSrc:"assets/audio/dress.mp3",category:"Clothes"},{word:"hat",translation:"шапка",image:"assets/img_clothes/hat.png",audioSrc:"assets/audio/hat.mp3",category:"Clothes"},{word:"skirt",translation:"юбка",image:"assets/img_clothes/skirt.png",audioSrc:"assets/audio/skirt.mp3",category:"Clothes"},{word:"suit",translation:"костюм",image:"assets/img_clothes/suit.png",audioSrc:"assets/audio/suit.mp3",category:"Clothes"},{word:"sweater",translation:"свитер",image:"assets/img_clothes/sweater.png",audioSrc:"assets/audio/sweater.mp3",category:"Clothes"},{word:"t-shirt",translation:"майка",image:"assets/img_clothes/t-shirt.png",audioSrc:"assets/audio/t-shirt.mp3",category:"Clothes"},{word:"trousers",translation:"штаны",image:"assets/img_clothes/trousers.png",audioSrc:"assets/audio/trousers.mp3",category:"Clothes"},{word:"vest",translation:"жилет",image:"assets/img_clothes/vest.png",audioSrc:"assets/audio/vest.mp3",category:"Clothes"},{word:"ear",translation:"ухо",image:"assets/img_humanbody/ear.png",audioSrc:"assets/audio/ear.mp3",category:"Humanbody"},{word:"eye",translation:"глаз",image:"assets/img_humanbody/eye.png",audioSrc:"assets/audio/eye.mp3",category:"Humanbody"},{word:"finger",translation:"палец",image:"assets/img_humanbody/finger.png",audioSrc:"assets/audio/finger.mp3",category:"Humanbody"},{word:"foot",translation:"стопа",image:"assets/img_humanbody/foot.png",audioSrc:"assets/audio/foot.mp3",category:"Humanbody"},{word:"hand",translation:"рука",image:"assets/img_humanbody/hand.png",audioSrc:"assets/audio/hand.mp3",category:"Humanbody"},{word:"head",translation:"голова",image:"assets/img_humanbody/head.png",audioSrc:"assets/audio/head.mp3",category:"Humanbody"},{word:"legs",translation:"нога",image:"assets/img_humanbody/legs.png",audioSrc:"assets/audio/legs.mp3",category:"Humanbody"},{word:"nose",translation:"нос",image:"assets/img_humanbody/nose.png",audioSrc:"assets/audio/nose.mp3",category:"Humanbody"},{word:"bicycle",translation:"велосипед",image:"assets/img_transport/bicycle.png",audioSrc:"assets/audio/bicycle.mp3",category:"Transport"},{word:"car",translation:"машина",image:"assets/img_transport/car.png",audioSrc:"assets/audio/car.mp3",category:"Transport"},{word:"kick scooter",translation:"самокат",image:"assets/img_transport/kickscooter.png",audioSrc:"assets/audio/scooter.mp3",category:"Transport"},{word:"motorcycle",translation:"мотоцикл",image:"assets/img_transport/motorcycle.png",audioSrc:"assets/audio/motorcycle.mp3",category:"Transport"},{word:"plane",translation:"самолет",image:"assets/img_transport/plane.png",audioSrc:"assets/audio/plane.mp3",category:"Transport"},{word:"ship",translation:"лодка",image:"assets/img_transport/ship.png",audioSrc:"assets/audio/ship.mp3",category:"Transport"},{word:"tractor",translation:"трактор",image:"assets/img_transport/tractor.png",audioSrc:"assets/audio/tractor.mp3",category:"Transport"}],e=t;function t(a,e,t){try{if(!a||!e)throw"error: name and htmlName params are mandatories";this.constructor(a,e,t)}catch(a){console.error(a)}}t.prototype={name:void 0,htmlName:void 0,default:void 0,constructor:function(a,e,t){this.name=a,this.htmlName=e,this.default=t},isActiveRoute:function(a){return a.replace("#","")===this.name}};const s=r;function r(a){try{if(!a)throw"error: routes param is mandatory";this.constructor(a),this.init()}catch(a){console.error(a)}}r.prototype={routes:void 0,rootElem:void 0,constructor:function(a){this.routes=a,this.rootElem=document.getElementById("container")},init:function(){var a=this.routes;!function(a,e){window.addEventListener("hashchange",(function(t){a.hasChanged(a,e)}))}(this,a),this.hasChanged(this,a)},hasChanged:function(a,e){if(window.location.hash.length>0)for(var t=0,s=e.length;t<s;t++){(r=e[t]).isActiveRoute(window.location.hash.substr(1))&&a.goToRoute(r.htmlName)}else for(t=0,s=e.length;t<s;t++){var r;(r=e[t]).default&&a.goToRoute(r.htmlName)}},goToRoute:function(a){var e,t,s;e=this,t=a,(s=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&200===this.status&&(e.rootElem.innerHTML=this.responseText)},s.open("GET",t,!0),s.send()}},new s([new e("mainpage","pages/main_page.html",!0)]);const o=document.querySelector(".main__container");let i=window.location.hash.substr(1);const n=document.querySelector(".button__toggle_menu"),c=document.querySelector(".navigation__menu");n.addEventListener("click",(()=>{n.classList.toggle("on"),c.classList.toggle("visible"),document.onclick=function(a){a.target!==c&&a.target!==n&&(c.classList.remove("visible"),n.classList.remove("on"))}}));const d=document.querySelector(".switch__input"),m=document.querySelector(".play"),g=document.querySelector(".train"),l=document.querySelector(".switch__container"),u=document.querySelector(".main__container");let p,y,_,h,b=0,w=0,S=0;const f=a=>{var e;return(e=i,a.filter((a=>a.category===e))).map((a=>(a=>{const e=document.createElement("div"),t=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),m=document.createElement("div");e.className="card__container",t.className="card__discr",s.className="front__card",r.className="img__block",i.className="img__block",n.className="card__header_en",c.className="rotate__card",d.className="back__card",m.className="card__header_ru",n.innerText=a.word,r.innerHTML=`<img src="${a.image}" class="card__img">`,i.innerHTML=`<img src="${a.image}" class="card__img">`,m.innerText=a.translation,e.addEventListener("click",(e=>{p||e.target===c||v(a.audioSrc)})),c.addEventListener("click",(()=>{s.style.transform="rotateY(180deg)",d.style.transform="rotateY(360deg)"})),e.addEventListener("mouseleave",(()=>{s.style.transform="rotateY(0deg)",d.style.transform="rotateY(180deg)"})),o.append(e),e.append(t),t.append(s),s.append(r,n,c),t.append(d),d.append(i,m)})(a)))},v=a=>{y||(y=new Audio),y.src=a,y.load(),setTimeout((function(){y.play()}),150)},E=()=>{const a=document.querySelector(".start__game_btn"),e=document.querySelector(".repeat__word_btn");p?a.addEventListener("click",(()=>{a.classList.remove("game__mode"),e.classList.add("game__mode"),_=!0,L()})):e.classList.remove("game__mode")},L=()=>{const a=document.createElement("div");a.className="mark__line_container",u.appendChild(a)},k=a=>{if(_){const e=document.querySelector(".mark__line_container"),t=document.createElement("div");a?(t.className="fa fa-star checked",8===w&&T()):t.className="fa fa-star",e.appendChild(t)}},T=()=>{const a=document.querySelector(".app__container");document.body.classList.add("lock");const e=document.createElement("div");if(e.className="game__over",0===S){e.innerText="u Win :)",e.classList.add("win__card"),setTimeout(v,1e3,"assets/audio/win.mp3")}else{e.innerText="u Lose :(",e.classList.add("lose__card"),setTimeout(v,1e3,"assets/audio/lose.mp3")}a.prepend(e);const t=document.createElement("div");t.className="restart__button",t.innerText="Start new game",e.append(t),t.addEventListener("click",(()=>{q()}))},q=()=>{setTimeout((function(){location.reload()}),1e3)},N=()=>{const e={data:a,hash:i};f(e.data);document.querySelectorAll(".navigation__link").forEach((a=>{a.innerText.replace(/\s/g,"")===i&&a.classList.add("current")}));document.querySelector(".start__game_btn").addEventListener("click",(()=>{b=0,S=0,w=0;let a=((a,e)=>{let t=a.filter((a=>a.category===e));h=t.sort((function(){return Math.random()-.5}));let s=h[b],r=s.word;document.querySelectorAll(".card__discr").forEach((a=>{a.addEventListener("click",(a=>{let e;null!==a.target.closest(".front__card")&&(e=a.target.closest(".front__card").parentElement.firstElementChild.firstElementChild.nextElementSibling.innerHTML),o(e,r)}))})),document.querySelector(".repeat__word_btn").addEventListener("click",(()=>{s=h[b],r=s.word,v(s.audioSrc)}));const o=(a,e)=>("undefined"==e||a===e&&_?(b+=1,w+=1,b>7?(s=h[b-1],r=s.word):(s=h[b],r=s.word,setTimeout(v,1e3,s.audioSrc)),event.target.closest(".card__container").classList.add("disable"),k(!0),v("assets/audio/correct.mp3")):(k(!1),S+=1,v("assets/audio/wrong.mp3")),b);return h})(e.data,i)[b];v(a.audioSrc)}))};d.addEventListener("click",(()=>{_=!1,p?(""!==i&&q(),m.classList.remove("hide"),g.classList.add("hide"),p=!1):(m.classList.add("hide"),g.classList.remove("hide"),p=!0),(a=>{const e=document.querySelector(".navigation__menu"),t=document.querySelectorAll(".rotate__card"),s=document.querySelectorAll(".card__header_en"),r=document.querySelectorAll(".card__img"),o=document.querySelectorAll(".card__container"),n=document.querySelector(".start__game_btn"),c=document.querySelector(".mark__line_container");E(),a?("mainpage"!==i&&""!==i&&n.classList.add("game__mode"),e.classList.add("game__mode"),o.forEach((a=>{a.classList.add("game__mode")})),t.forEach((a=>{a.style.display="none"})),s.forEach((a=>{a.style.display="none"})),r.forEach((a=>{a.style.height="90%"})),c.classList.add("game__mode")):(e.classList.remove("game__mode"),o.forEach((a=>{a.classList.remove("game__mode"),a.classList.remove("disable")})),t.forEach((a=>{a.style.display="flex"})),s.forEach((a=>{a.style.display="block"})),r.forEach((a=>{a.style.height="80%"})),c.classList.remove("game__mode"),c.innerHTML="")})(p),E()})),(()=>{const a=document.createElement("div");a.className="start__game_btn",a.innerText="START GAME",l.before(a);const e=document.createElement("div");e.className="repeat__word_btn",e.innerText="REPEAT",l.before(e)})(),L(),window.addEventListener("DOMContentLoaded",N),window.addEventListener("hashchange",(()=>{q(),o.innerHTML="",i=window.location.hash.substr(1),N()}))})();